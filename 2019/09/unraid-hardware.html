<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Hany Kashif</title>
  <meta name="theme-color" content="#222222" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="//hkashif.github.io/js/jquery.min.js"></script>
  <script src="//hkashif.github.io/js/bootstrap.min.js"></script>
  <script src="//hkashif.github.io/js/header.js"></script>
  <script src="//hkashif.github.io/js/toc.js"></script>
  <link href="//hkashif.github.io/css/bootstrap.min.css" rel="stylesheet">
  <link href="//hkashif.github.io/css/theme.css" rel="stylesheet">
  <link href="//hkashif.github.io/css/syntax.css" rel="stylesheet">
  <link href="//hkashif.github.io/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>

  
<!--script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-79889578-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-79889578-1', 'auto');
  ga('send', 'pageview');

</script>


  


 <script type="text/javascript">
  WebFontConfig = {
    google: {
      families: ['Ubuntu::latin']
    }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="//hkashif.github.io/">Hany Kashif</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="//hkashif.github.io/"><i class="fa fa-home fa-lg"></i></a></li>
          <li><a href="//hkashif.github.io/academic.html">Academic</a></li>
          <li><a href="//hkashif.github.io/experience.html">Experience</a></li>
          <li class="dropdown">
            <a data-toggle="dropdown" class="dropdown-toggle">Blog<b class="caret"></b></a>
            <ul class="dropdown-menu inverse-dropdown">
                <li><a href="//hkashif.github.io/posts.html">Recent</a></li>
                <li><a href="//hkashif.github.io/archive.html">Archive</a></li>
                <li><a href="//hkashif.github.io/tags.html">Tags</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>


<div class="wrapper">
  <div class="content">
    <div class="container container-center">
      <div class="row">
        <div class="col-md-8">
          <div class="article">
            <div class="well">
              <h1><a href="//hkashif.github.io/2019/09/unraid-hardware">Building My First Home Server</a></h1>
              <div class="post-meta">
                <div class="post-time">
                  <i class="fa fa-calendar"></i>
                  <time>05 Sep 2019</time>
                </div>
                <ul>
                  
                    <li><a href="//hkashif.github.io/tag/tech">tech</a></li>
                  
                    <li><a href="//hkashif.github.io/tag/homeserver">homeserver</a></li>
                  
                    <li><a href="//hkashif.github.io/tag/unraid">unraid</a></li>
                  
                </ul>
              </div>
              <div class="post-content">
                <div id="toc" class="toc"></div>
                <h2 id="older-home-setup"><strong>Older Home Setup</strong></h2>

<p>Originally, I had a couple of laptops at home, a WD NAS, and an Nvidia Shield TV box. I used the NAS mainly as a storage for photos, videos, music, and for the occasional backups from the laptops.</p>

<p>On the Nvidia Shield, I used Kodi as a media center. I couldn’t simply stream videos to Kodi from the NAS .. huge performance issues. I had to buy a high-speed USB drive to extend the storage space on my 500 GB Shield to give more space for Kodi when using P2P downloads.</p>

<p>What wasn’t I happy with?</p>

<ul>
  <li>Frequent instabilities with Kodi on Shield.</li>
  <li>Couldn’t stream videos directly from the NAS to Kodi.</li>
  <li>To run a software overnight, I had to leave my laptop running.</li>
  <li>Laptop couldn’t leave home when I wanted to run a software uninterrupted over a period of time.</li>
  <li>Had no backup for the NAS.</li>
</ul>

<h2 id="what-did-i-need"><strong>What Did I Need?</strong></h2>

<p>It was clear to me that I needed to upgrade things at home, so I started identifying what I wanted to have. Here is what I came up with:</p>

<ul>
  <li>Better, more automated media setup</li>
  <li>Proper backups of my data</li>
  <li>Ability to have software running for days collecting and churning data</li>
  <li>Private file hosting and sharing service</li>
  <li>Ability to run multiple VMs (not on my laptop)</li>
  <li>Ability to securely access all of this remotely</li>
</ul>

<h2 id="what-are-my-options"><strong>What Are My Options?</strong></h2>

<p>I didn’t really do an exhaustive analysis of what my options were. However, I considered a few options.</p>

<ol>
  <li>Extending my NAS</li>
  <li>A more advanced NAS</li>
  <li>Home workstation with some server OS</li>
  <li>RAID server</li>
  <li>unRAID server</li>
</ol>

<p>Extending my NAS basically meant buying a similar one to what I currently have and connecting them for backups. This only solved one of my problems.</p>

<p>A more advanced NAS sounded like a good option at first. However, extending it for storage was not as simple. And I wasn’t sure I had any control over what I can run on that NAS. Maybe I would be able to run some apps but there will probably be a lot of limitations. The cost was not low either.</p>

<p>A home workstation with a server OS was an appealing option. However, this meant no parity. I also was not sure about my options for monitoring the server. I am sure there are tools for that on the different server OSes, I, however, wanted to spend minimal effort for maintaining the server.</p>

<p>It ended up being a comparison between either a RAID server or an unRAID server. This is already a controversial topic. However, there were a few points that helped me make up mind:</p>

<ul>
  <li>unRAID does not stripe data across multiple disks. To me, this is safer.</li>
  <li>unRAID compensates for performance degradation due to not striping data via a cache drive.</li>
  <li>unRAID allows adding an asymmetric disk (with a size smaller than or equal to that of the parity drive)</li>
  <li>unRAID does not spin all drives for reading and writing a file</li>
  <li>unRAID has a beautiful application store and has native docker support</li>
  <li>unRAID has a strong community support forum</li>
  <li>unRAID does not need special hardware (compared to RAID)</li>
</ul>

<p>The unRAID OS has a one time cost which might be a deterrent for some. For me, however, the cost was completely justifiable specifically considering the cost involved in expanding my array in the future.</p>

<h2 id="first-home-server"><strong>First Home Server</strong></h2>

<p>This was not the most exhaustive enumeration or analysis of my options, nevertheless, I decided to go with the unRAID OS. I made the following to-buy-hardware list for my server:</p>

<ul>
  <li>A used Dell PowerEdge T410
    <ul>
      <li>64GB ECC RAM</li>
      <li>2 x Xeon X5670 12 Core CPUs</li>
      <li>No RAID</li>
    </ul>
  </li>
  <li>2 x 4TB HGST 7200RPM 128M Cache NAS Drives</li>
  <li>Samsung 970 EVO PLUS 512 GB SSD</li>
  <li>SSD NVMe PCIe Adapter</li>
  <li>USB Drive with a small form factor</li>
</ul>

<p>The T410 came with a SAS backplane for the drives. The SAS backplane was powered by two 4-pin ATX connectors. The SAS backplane, however, didn’t have a connection to the motherboard. The reason is that I ordered the T410 with no RAID. A SAS backplane is connected to the motherboard through a RAID controller and cannot connect directly to the onboard SATA ports. I had two options:</p>

<ol>
  <li>Buy a H200 RAID controller and run the drives unconfigured (non RAID) to pass them through as individual drives.</li>
  <li>Get rid of the backplane and connect the drives directly to the motherboard.</li>
</ol>

<p>I was not sure about the performance of the first option so I went with the second. I installed the cache drive into the SSD adapter and into a PCIe port in the motherboard. I setup the USB drive with the unRAID OS from an Ubunutu host as follows:</p>

<ol>
  <li>Formatted the drive as FAT32</li>
  <li>Unzipped the contents to the drive</li>
  <li>Edited the configuration files as needed (e.g., host name)</li>
  <li>Unmounted the USB drive</li>
  <li>Ran the ‘make bootable’ shell script from the local copy</li>
</ol>

<p>This is it. I put the USB drive into a port directly on the motherboard, closed the chassis, started the server, and it worked.</p>

<p>In future posts, I will explain the software setup of the server.</p>


                

<div class="share-bar">
  <ul class="share-buttons">
    
    <li class="share-facebook">
      <a href="https://www.facebook.com/sharer/sharer.php?u=//hkashif.github.io/2019/09/unraid-hardware" target="_blank" title="Share on Facebook">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-facebook fa-stack-1x"></i>
        </span>
      </a>
    </li>
    

    
    <li class="share-twitter">
      <a href="https://twitter.com/intent/tweet?url=//hkashif.github.io/2019/09/unraid-hardware&text=Building My First Home Server" target="_blank" title="Tweet">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-twitter fa-stack-1x"></i>
        </span>
      </a>
    </li>
    

    
    <li class="share-google-plus">
      <a href="https://plus.google.com/share?url=//hkashif.github.io/2019/09/unraid-hardware" target="_blank" title="Share on Google Plus">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-google-plus fa-stack-1x"></i>
        </span>
      </a>
    </li>
    

    
    <li class="share-linkedin">
      <a href="http://www.linkedin.com/shareArticle?mini=true&url=//hkashif.github.io/2019/09/unraid-hardware&title=Building My First Home Server&summary=First steps to building my first home server.&source=" target="_blank" title="Share on LinkedIn">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-linkedin fa-stack-1x"></i>
        </span>
      </a>
    </li>
    

    
    <li class="share-pinterest">
      <a href="http://pinterest.com/pin/create/button/?url//hkashif.github.io/2019/09/unraid-hardware=&description=First steps to building my first home server." target="_blank" title="Pin it">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-pinterest fa-stack-1x"></i>
        </span>
      </a>
    </li>
    

    
    <li class="share-envelope">
      <a href="mailto:?&subject=Building My First Home Server&body=First steps to building my first home server. //hkashif.github.io/2019/09/unraid-hardware" target="_blank" title="Email">
        <span class="fa-stack fa-lg">
          <i class="fa fa-square-o fa-stack-2x"></i>
          <i class="fa fa-envelope-o fa-stack-1x"></i>
        </span>
      </a>
    </li>
    

  </ul>
</div>


              </div>
              
              <div id="disqus_thread">
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
              </div>
              
            </div>
          </div>
        </div>
        <div class="col-md-4 hidden-xs">
          <div class="sidebar ">
  <h2>Recent Posts</h2>
  <ul>
    
    <li><a href="/2019/09/unraid-hardware">Building My First Home Server</a></li>
    
    <li><a href="/2017/02/sqlserver-17051">SQL Server Evaluation Expiry - Error 17051</a></li>
    
    <li><a href="/2016/07/signature-salad">My Signature Salad</a></li>
    
    <li><a href="/2016/07/mirepoix">Mirepoix</a></li>
    
  </ul>
</div>

<div class="sidebar">
  <h2>Tags</h2>
  <ul>
    
      <li><a href="/tag/cuisine">cuisine</a></li>
    
      <li><a href="/tag/soup">soup</a></li>
    
      <li><a href="/tag/salad">salad</a></li>
    
      <li><a href="/tag/tech">tech</a></li>
    
      <li><a href="/tag/sqlserver">sqlserver</a></li>
    
      <li><a href="/tag/homeserver">homeserver</a></li>
    
      <li><a href="/tag/unraid">unraid</a></li>
    
  </ul>
</div>

        </div>
      </div>
    </div>
    
<!-- Add Disqus comments. -->
<div id="disqus_thread"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'hanykashif'; // required: replace example with your forum shortname
  var disqus_identifier = "/2019/09/unraid-hardware";

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


  </div>
      <footer class="footer-distributed">
      <div class="container">
        <div class="footer">
          <p>Hany Kashif &copy; 2016. All rights reserved.</p>
          <h6>Follow me</h6>

<ul class="social-media">

  
    <li>
      <a title="hkashif on Github" href="https://github.com/hkashif" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="5504043/h-k on StackOverflow" href="http://stackoverflow.com/users/5504043/h-k" target="_blank"><i class="fa fa-stack-overflow fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="hkashif on LinkedIn" href="https://www.linkedin.com/in/hanykashif" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a>
    </li>
  

  

  

  

</ul>

        </div>
      </div>
    </footer>
  </body>
</html>

</div>
